<div class="ui main text container">

  <h1 class="ui header teal">Add a bug</h1>
  
  <form novalidate (ngSubmit)="save()" [formGroup]="addBugForm" class="ui form">
    <!--Title-->
    <div class="field" [ngClass]="{'error': addBugForm.get('title').touched && addBugForm.get('title').invalid}">
      <label>Title ({{120 -addBugForm.get('title').value.length}})</label>
      <input type="text" placeholder="title" formControlName="title" />
      <div class="ui pointing red basic label"
        *ngIf="addBugForm.get('title').touched
            && addBugForm.get('title').errors
            && addBugForm.get('title').errors.maxlength">
          Max length reached
        </div>
    </div>
   
  <!--Body-->
  <div class="field" [ngClass]="{'error': addBugForm.get('body').touched && addBugForm.get('body').invalid}">
    <label>Body ({{500 -addBugForm.get('body').value.length}})</label>
    <textarea placeholder="body" formControlName="body" >
    </textarea>
    <div class="ui pointing red basic label"
    *ngIf="addBugForm.get('body').touched
        && addBugForm.get('body').errors
        && addBugForm.get('body').errors.maxlength">
      Max length reached
    </div>
  </div>
  <!--StepsToReproduce-->
  <div class="field" [ngClass]="{'error': addBugForm.get('stepsToReproduce').touched && addBugForm.get('stepsToReproduce').invalid}">
      <label>Steps to reproduce the issue  ({{250 -addBugForm.get('stepsToReproduce').value.length}})</label> 
      <textarea rows=2 placeholder="Steps To Reproduce" formControlName="stepsToReproduce" >
      </textarea>
      <div class="ui pointing red basic label"
    *ngIf="addBugForm.get('stepsToReproduce').touched
        && addBugForm.get('stepsToReproduce').errors
        && addBugForm.get('stepsToReproduce').errors.maxlength">
      Max length reached
    </div>
    </div>
  <!--Severity-->
    <!--We are going to create a custom component for this feature-->
    <div class="field">
        <select class="ui dropdown" formControlName="severity">
            <option value="1">
              <app-severity [severityRange]='1'></app-severity>
              Normal</option>
            <option value="2">
                <app-severity [severityRange]=''></app-severity>
                Critical</option>
            <option value="3">
                <app-severity [severityRange]=1></app-severity>Fatal</option>
          </select>
    </div>
  <!--IsFixed-->
  <div class="field">
  <div class="ui toggle checkbox">
      <input type="checkbox" formControlName="isFixed" >
      <label>Fixed</label>
    </div>
  </div>
    <div class="ui clearing segment right aligned ">
      <button class="ui button green right floated" type="submit" [disabled]="addBugForm.invalid">Save</button>
    </div>
  <!--<pre>
    {{addBugForm.value | json}}
    value {{addBugForm.get('title').value | json}}
    touched {{addBugForm.get('title').touched | json}}
    dirty {{addBugForm.get('title').dirty | json}}
    valid {{addBugForm.get('title').valid | json}}
    invalid {{addBugForm.get('title').invalid | json}}
  </pre>-->
  </form>

  <a class="ui button" [routerLink]="['/bugs']">
    <i class="angle double left icon"></i> Back
  </a>

</div>

